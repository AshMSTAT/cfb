regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3})'
,'(runs ob at|runs to|scrambles to|to|pushed ob|pushed ob at|scrambles, runs ob at|sacked at) for'
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
grepl(regParse2, x[,'scoreText'])
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'(runs ob at|runs to|scrambles to|to|pushed ob|pushed ob at|scrambles, runs ob at|sacked at) '
,'([A-Z]{2,4}) ([0-9]{1,3})'
,' for'
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
grepl(regParse2, x[,'scoreText'])
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'(runs ob at|runs to|scrambles to|to|pushed ob|pushed ob at|scrambles, runs ob at|sacked at) '
,'([A-Z]{2,4}) ([0-9]{1,3})'
,' for'
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'\\(([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
grepl(regParse2, x[,'scoreText'])
gsub(regParse, '\\8', x
)
gsub(regParse2, '\\1', x)
regParse2
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'(runs ob at|runs to|scrambles to|to|pushed ob|pushed ob at|scrambles, runs ob at|sacked at) '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'\\(([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
grepl(regParse2, x[,'scoreText'])
Cond2 <- grepl(regParse2, x[,'scoreText'])
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'\\(([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
Cond2
as.numeric(gsub(regParse2, '\\8', x[Cond,'scoreText']))
gsub(regParse2, '\\8', x[Cond,'scoreText'])
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES\\. '
,'\\(([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
gsub(regParse2, '\\8', x[Cond,'scoreText'])
gsub(regParse2, '\\1', x[Cond,'scoreText'])
gsub(regParse2, '\\2', x[Cond,'scoreText'])
x
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES '
,'\\(([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
gsub(regParse2, '\\8', x[Cond2,'scoreText'])
gsub(regParse2, '\\9', x[Cond2,'scoreText'])
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
gsub(regParse2, '\\9', x[Cond2,'scoreText'])
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
gsub(regParse2, '\\9', x[Cond2,'scoreText'])
grepl(regParse2, x[,'scoreText'])
gsub(regParse2, '\\9', x[Cond2,'scoreText'])
gsub(regParse2, '\\1', x[Cond2,'scoreText'])
gsub(regParse2, '\\2', x[Cond2,'scoreText'])
gsub(regParse2, '\\3', x[Cond2,'scoreText'])
gsub(regParse2, '\\4', x[Cond2,'scoreText'])
gsub(regParse2, '\\5', x[Cond2,'scoreText'])
gsub(regParse2, '\\6', x[Cond2,'scoreText'])
gsub(regParse2, '\\7', x[Cond2,'scoreText'])
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
gsub(regParse2, '\\7', x[Cond2,'scoreText'])
gsub(regParse2, '\\8', x[Cond2,'scoreText'])
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20})\\. to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
gsub(regParse2, '\\8', x[Cond2,'scoreText'])
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4}) ([0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) yards|yard, '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)\\.|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
gsub(regParse2, '\\8', x[Cond2,'scoreText'])
gsub(regParse2, '\\7', x[Cond2,'scoreText'])
x
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4} [0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) (yards|yard), '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)\\.|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4} [0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
Cond2
gsub(regParse2, '\\7', x[Cond2,'scoreText'])
gsub(regParse2, '\\8', x[Cond2,'scoreText'])
library(cfb)
library(cfb)
library(cfb)
x$Fumble = FALSE
x$FumbleYards = rep(NA, nrow(x))
# - Rushing Fumble
regParse = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}), FUMBLES\\. '
,'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond <- grepl(regParse, x[,'scoreText'])
x$Fumble[Cond] = TRUE
x$FumbleYards <- as.numeric(gsub(regParse, '\\8', x[Cond,'scoreText']))
# - Sacked Fumble
regParse2 = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) '
,'sacked at '
,'([A-Z]{2,4} [0-9]{1,3}) '
,'for '
,'(-|)([0-9]{1,3}) (yards|yard), '
,'FUMBLES '
,'(\\([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}\\)\\.|[0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4} [0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond2 <- grepl(regParse2, x[,'scoreText']) & !Cond
x$Fumble[Cond2] = TRUE
x$FumbleYards <- as.numeric(gsub(regParse2, '\\8', x[Cond2,'scoreText']))
x
gsub(regParse2, '\\7', x[Cond2,'scoreText'])
gsub(regParse2, '\\6', x[Cond2,'scoreText'])
grepl('\\(', gsub(regParse2, '\\6', x[Cond2,'scoreText']))
library(cfb)
library(cfb)
library(cfb)
TestFrame <- data.frame(
scoreText = c(
'2-K.Myers to TEP 39, FUMBLES. 2-K.Myers to TEP 39 for 0 yards.'
,'2-K.Myers sacked at UTS 24 for -8 yards, FUMBLES (1-A.James). to UTS 24 for 0 yards.'
)
)
Fumbles <- ParseFumble(TestFrame)
Fumbles
as.numeric(gsub(regParse, '\\8', x[Cond,'scoreText']))
gsub(regParse, '\\8', x[Cond,'scoreText'])
x$Fumble = FALSE
x$FumbleYards = rep(NA, nrow(x))
x$Turnover = FALSE
# - Rushing Fumble
regParse = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}), FUMBLES\\. '
,'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
gsub(regParse, '\\8', x[Cond,'scoreText'])
gsub(regParse, '\\7', x[Cond,'scoreText'])
library(cfb)
library(cfb)
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
ParseFumble
ParseFumble(p)
x
p
ParseFumble(p)
x = p
x$Fumble = FALSE
x$FumbleYards = rep(NA, nrow(x))
x$Turnover = FALSE
# - Rushing Fumble
regParse = paste0(
'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}), FUMBLES\\. '
,'([0-9]{1,4}-[A-Z]\\.[A-Za-z]{1,20}) to '
,'([A-Z]{2,4}) ([0-9]{1,3}) for '
,'([0-9]{1,3}) yards\\.'
)
Cond <- grepl(regParse, x[,'scoreText'])
x$Fumble[Cond] = TRUE
x$FumbleYards <- as.numeric(
gsub(regParse, '\\7', x[Cond,'scoreText'])
)
x$Fumble[Cond] = TRUE
x$FumbleYards[Cond] <- as.numeric(
gsub(regParse, '\\7', x[Cond,'scoreText'])
)
library(cfb)
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
library(cfb)
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
nn <- NCAApbp(url)
p<-ParseRush(nn)
p
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
p<-ParseRush(nn)
p[p$RushAtt,]
p[!p$RushAtt, 'scoreText']
p<-ParsePass(p)
p[p$PassAtt & p$Complete,]
p[!p$PassAtt & !p$RushAtt, 'scoreText']
p<-ParseFG(p)
p[p$FieldGoal,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal, 'scoreText']
p<-ParseKick(p)
p[p$Kick,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick, 'scoreText']
p<-ParsePunt(p)
p[p$Punt,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt, 'scoreText']
p<-ParsePenalty(p)
p[p$Penalty,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty, 'scoreText']
p<-ParseFumble(p)
p[p$Fumble,]
p[!p$PassAtt & !p$RushAtt & !p$FieldGoal & !p$Kick & !p$Punt & !p$Penalty & !p$Fumble, 'scoreText']
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/11/04/toledo-kent-st/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/09/11/louisiana-tech-north-texas/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/nevada-la-lafayette/pbp.json'
url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-colorado-st/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2013/08/29/north-carolina-south-carolina/pbp.json'
# url = 'http://data.ncaa.com/jsonp/game/football/fbs/2014/12/20/utah-st-utep/pbp.json'
# - basketball url
# url<-'http://data.ncaa.com/jsonp/game/basketball-men/d1/2015/02/17/wyoming-nevada/pbp.json'
nn <- NCAApbp(url)
nn[,'scoreText']
nn[grepl('FUMBLE',nn$scoreText),'scoreText']
